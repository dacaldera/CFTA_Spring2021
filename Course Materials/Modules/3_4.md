
# Module 3.4
## Continuation of Classes and Objects, Arrays

> ## Homework: 
>
>Follow this tutorial series on Space Invaders. There are 4 parts:
>
>* Space Invaders: [part 1](https://www.youtube.com/watch?v=FX-u9xtZhLA)
>
>* Space Invaders: [part 2](https://www.youtube.com/watch?v=5-wkZ4FZacE)
>
>* Space Invaders: [part 3](https://www.youtube.com/watch?v=lK8otXsChSU)
>
>* Space Invaders: [part 4](https://www.youtube.com/watch?v=exkKPEfkip8)
>
>
>Read Chaper 12 on Data in P5.js Make book
>
> Find a code sketch by somebody else in Open Processing that uses classes and objects, and share it with us. 
>


* Here is the in-class game demo code:
```
let spaceship;
let rockets = [];
let aliens = [];

function setup() {
  createCanvas(500, 500);
  //this r1 variable is an example of creating a single object
  // r1 = new Rocket(100, 300);
  //this rockets array is an example of adding more than one object to an array
  rockets.push(new Rocket(240, 370));
  spaceship = new Spaceship(300, 400);


  aliens.push(new Alien(random(width), 100));
  aliens.push(new Alien(random(width), 100));
  aliens.push(new Alien(random(width), 100));

}

function draw() {
  background(0);


  spaceship.display();
  spaceship.update();

  for (let i = 0; i < aliens.length; i++) {
    aliens[i].display();
  }


  //the rockets in the array are displayed using a for loop
  //the for loop uses rockets.length which is a changing value
  for (let i = 0; i < rockets.length; i++) {
    rockets[i].display();
    rockets[i].update();

    for (let j = 0; j < aliens.length; j++) {

      if (aliens[j].checkHit(rockets[i].get_x(), rockets[i].get_y())) {
        aliens[j].newPosition();
      }

    }



    if (rockets[i].get_y() < 0) {
      rockets.splice(i, 1);
    }


  }

  //rockets.splice(item, 1);

}



class Alien {
  constructor(x, y) {
    this.x = x;
    this.y = y;
  }

  display() {
    rect(this.x, this.y, 30, 30);
  }

  newPosition() {
    this.x = random(width);
    this.y = random(50, 150);
  }

  checkHit(x, y) {
    if (x > this.x && x < this.x + 30 && y > this.y && y < this.y + 30) {
      return true;
    } else {
      return false;
    }
  }
}

//here is our Rocket Class definition
class Rocket {
  //the constructor only runs once when the instance is created
  constructor(x, y) {
    this.loc_x = x;
    this.loc_y = y;
    this.c = color(random(255), random(255), random(255));
  }

  get_y() {
    return this.loc_y;
  }

  get_x() {
    return this.loc_x;
  }

  //this is the display method, which is used to display the rocket
  display() {
    fill(this.c);
    noStroke();
    rect(this.loc_x, this.loc_y, 10, 30);
    ellipse(this.loc_x + 5, this.loc_y, 10, 20);
  }

  //this is the update method, which is used to display the rocket
  update() {
    this.loc_y -= 10;
    // if(this.loc_y<0){
    //  this.loc_y = 300;
    // }
  }
}


class Spaceship {
  constructor(x, y) {
    this.x = x;
    this.y = y;
  }


  display() {
    triangle(this.x - 10, this.y - 10, this.x + 10, this.y - 10, this.x, this.y + 10);
  }

  update() {
    this.x = mouseX;
    this.y = mouseY;
  }



}


//when the mouse is clicked, add a rocket to the rockets array
function mouseClicked() {
  rockets.push(new Rocket(mouseX, mouseY));
}
```

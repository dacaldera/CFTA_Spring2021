#Module 3.2   P5.JS


```
let px;
let py;


function setup() {
  createCanvas(400, 400);
  // frameRate(2)
}

function draw() {
  background(220);

  px = mouseX;
  py = mouseY;

  fill(255);

  rect(200, 200, 50, 50);
  rect(100, 50, 50, 50);
  rect(120, 300, 50, 50);


  if (
    is_point_inside_square(px, py, 200, 200, 50) ||
    is_point_inside_square(px, py, 100, 50, 50) ||
    is_point_inside_square(px, py, 120, 300, 50)
  ) {
    fill(0, 255, 0);
  } else {
    fill(255, 0, 0);
  }


  ellipse(px, py, 10, 10);
}


function is_point_inside_square(p_x, p_y, s_x, s_y, s_size) {

  if (p_x > s_x && p_x < s_x + s_size && p_y > s_y && p_y < s_y + s_size) {

    return true;

  } else {

    return false;

  }

}
```

Recursive Squares
```
function setup(){
  createCanvas(500,500);
  // noLoop();
}



function draw(){
  background(200);
  for(let j=0;j<height;j+=50){
  for(let i=0;i<width;i+=50){
    draw_square(i, j, 50, 50);
  }
  }
}


function draw_square(loc_x, loc_y, size_x, size_y){
  rectMode(CENTER);
  rect(loc_x, loc_y, size_x, size_y);
  if(size_x > 1){
    draw_square(loc_x+map(mouseX, 0, width,-10, 10), loc_y+map(mouseY, 0, height,-10, 10),  size_x-10, size_y-10);
  }
}
```

Recursive Circles
```
let count = 0;
let d = 600;

function setup(){
  createCanvas(600,600)
  // noLoop()
}



function draw(){
  background(50); 
  push();
  translate(300,300);
  rotate(radians(frameCount));
  drawCircle(0,0, d); 
  pop();
  d--;
  if(d<0){
   d=600; 
  }
}




function drawCircle(x, y, d){
  noFill();
  fill(map(y, 0,width, 255,100), map(x, 0,width, 255, 100), map(d, 0,600, 0,255), 30);
  stroke(map(x, 0,width, 100,255), map(d, 0,600, 100, 255), map(y, 0,height, 0,255));
  ellipse(x, y, d);
  count++;
  
  if(d>50){
    drawCircle(x-d/4, y, d*0.5);
    drawCircle(x+d/4, y, d*0.5);
    drawCircle(x, y+d/4, d*0.5);
    drawCircle(x, y-d/4, d*0.5);
  }
  
  
}
```


## Custom Functions quick review
* There are three elements to consider when working with custom functions. 1: The function name and definition. 2: The content of the function. 3: The calling of the function in your sketch
* Use the function keyword to declare a function, followed by the name of the function and a set of parentheses. The parenthesis can be empty or can contain the required arguments that your function will utilize. You can think of parameters as information that gets passed into the function. Parameters can be named anything you like, bust must adhere to the same naming conventions that variables use (must start with a letter or an underscore, do not use reserved words, etc.).
```
//this is a function named infinite_square with no parameters defined
function infinite_square(){

}

//this is a function named infinite_circle with two parameters defined, one for each x and y location.
function infinite_circle(loc_x, loc_y){

}
```

* The content of the function is just like an ordinary block of code. The body can contain other function calls, can process numbers, and new variables can be declared here as well. Keep an eye out for a `return` keyword wich is used inside the body of a custom function to indicate that some value is being returned to the user. The `return` keyword instantly exits the function. 
```
function infinite_square(){
  let x = random(width); //declare some variables to use inside this function. These variables are only available inside this function (called Local Scope)
  let y = random(height);
  rectMode(CENTER);
  rect(x, y, 100, 100); //draw a rectangle

  //notice that this function does not return anything (there is no return keyword). It simplydraws the rectangle and quietly exits when finished

}

function infinite_circle(loc_x, loc_y){

  // lets run a conditional check on the passed-in parameters. If the location is within a certain area on the canvas then the draw the circle
  if(loc_x > 100 && loc_x < width - 100 && loc_y > 100 && loc_y < height - 100){
    ellipse(loc_x, loc_y, 100,100) //we are using the location parameters that are being passed into the function 
  } else {
    // if not, then return false. This terminates the function and returns a false boolean value to the sketch which could be used for other things
    return false;
  }
}
```

## Recursive functions
### Circles example by Daniel shiffman
```
function setup() {
  createCanvas(600, 600);
}

function draw() {
  background(0);
  stroke(255);
  noFill();
  drawCircle(300, 200, 600);
  noLoop();
}

function drawCircle(x, y, d) {
  ellipse(x, y, d);
  if (d > 2) {
    let newD = d * 0.25;
    drawCircle(x + newD, y, newD);
    drawCircle(x - newD, y, newD);
    //drawCircle(x, y + d * 0.5, d * 0.5);
  }
}
```
### Sierpinsky Carpet
```
let side = 500;

function setup() {
  createCanvas(side, side);
  background(255);
  fill(0);
  
  carpet(0, 0, side);
}

function carpet(x1, y1, side) {
  if (side < 3) return;
  const length = side / 3;
  rect(x1 + length, y1 + length, length, length);
  carpet(x1           , y1           , length);
  carpet(x1 + length  , y1           , length);
  carpet(x1 + 2*length, y1           , length);
  carpet(x1           , y1 + length  , length);
  carpet(x1 + 2*length, y1 + length  , length);
  carpet(x1           , y1 + 2*length, length);
  carpet(x1 + length  , y1 + 2*length, length);
  carpet(x1 + 2*length, y1 + 2*length, length);
}
```


## Homework
> https://medium.com/@pasquini/lets-build-a-recursive-tree-with-p5js-8d6d2017e0cb
> 
